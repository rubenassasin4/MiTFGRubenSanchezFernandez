\documentclass[12pt]{article}
\usepackage[utf8]{inputenc}
\usepackage{enumitem}
%\usepackage[spanish]{babel}
\usepackage[spanish,es-tabla]{babel}
%\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{graphicx}
\usepackage{url}
\usepackage{float}
\usepackage[lmargin=3cm,rmargin=3cm,top=2.5cm,bottom=2.5cm]{geometry}
\usepackage{fancyvrb}
\usepackage{fancyhdr}
\usepackage{titlesec}
\usepackage{hyperref}
\usepackage{datetime}
\usepackage{hyperref}
\usepackage{textcomp}
\usepackage{listings}
\usepackage{amsmath, amsthm, amssymb, tabu}
\usepackage{array}
\usepackage{multicol}
\usepackage{hyperref}
\usepackage{breakurl}
\usepackage[T1]{fontenc}
\usepackage{color}
\usepackage{tocloft} % Añadido el paquete tocloft
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\definecolor{gray}{rgb}{0.5, 0.5, 0.5}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen}\ttfamily,
    keywordstyle=\bfseries\color{blue},
    numberstyle=\tiny\color{gray},
    stringstyle=\ttfamily\color{red},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    %numbers=left,                    
    %numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

\lstset{style=mystyle}


\pagestyle{fancy}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=blue
}

\fancyfoot{}
\setlength{\headheight}{15.71667pt}
\renewcommand{\footrulewidth}{0.5pt}
\fancyfoot[R]{\thepage}

\setcounter{secnumdepth}{3}

\titleformat{\paragraph}
{\normalfont\normalsize\bfseries}{\theparagraph}{1em}{}
\titlespacing*{\paragraph}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}

\newcommand{\subsubsubsection}[1]{\paragraph{#1}}

% Redefine el nombre del índice
\addto\captionsspanish{\renewcommand{\contentsname}{Índice general}}
\begin{document}

\begin{titlepage}
    \begin{center}

        {\phantom{a}\par}

        \includegraphics[width=0.6\textwidth]{imagenes/logo.jpg}
        %\vspace*{1cm}

        \scshape\Large\textbf{UNIVERSIDAD DE MURCIA}
        \\\scshape\Large Facultad de Informática

        \rule{\linewidth}{0.1pt}
        \rule{\linewidth}{0.1pt}

        \vspace{1cm}
        \scshape\huge\textbf{App para pedidos de impresión}\\
        \scshape\Large Trabajo de fin de grado


        \vspace{1.5cm}

        \itshape\large
        Rubén Sánchez Fernández\\
        21067018F\\

        \vspace{0.5cm}
        \textbf{Tutor}\\
        \itshape\large
        Francisco García Sánchez\\



        \vfill
        {\large Convocatoria de Junio 2024}
    \end{center}
\end{titlepage}

\pagestyle{empty}
\tableofcontents
% Agrega un espacio en el índice
\addtocontents{toc}{\vspace{\baselineskip}}
\newpage
\listoffigures
\newpage
\clearpage
\pagestyle{fancy}
\setcounter{page}{1}

\section{Resumen}
Este es el resumen…
ESTILO DE REDACCIÓN APLICABLE A TODO EL DOCUMENTO: evitaremos el uso de la primera persona; en su lugar se suele emplear el reflexivo (“hemos desarrollado” “se ha desarrollado”).


\section{Extended abstract}
Resumen extendido en inglés (2000 palabras). En el abstract conviene replicar de algún modo la estructura de la memoria en sí: (i) introducción, (ii) estado del arte, (iii) objetivos y metodología, (iv) diseño y resolución del trabajo, (v) conclusiones y trabajo futuro. El contenido del abstract tiene que abarcar todos esos conceptos en ese orden.

\section{Introducción}
Esto se escribe lo último, junto con el resumen y el abstract. Se establece el contexto en el que se sitúa el proyecto introduciendo claramente la problemática e indicando el objetivo general del proyecto (como consecuencia de esos problemas que se quieren resolver). Suele venir acompañado de numerosas referencias bibliográficas relevantes sobre los distintos conceptos tratados. En el último párrafo de la introducción hay que indicar la estructura/organización del resto del documento (un párrafo indicando brevemente en qué secciones se ha dividido el documento y el contenido de cada sección).

\section{Estado del arte}
En este apartado se expondrá por un lado el contexto inicial y la situación de partida junto con el problema a solucionar que se nos plantea. Por 
otro lado se realizará un análisis de las herramientas y tecnologías que hemos decidido emplear para el desarrollo de la solución al problema.
\subsection{Contexto y análisis de la situación de partida}
Este trabajo de Fin de Grado, ha sido desarrollado en colaboración con Upango, empresa especializada en transformaciones digitales B2B.
Durante años, Upango, ha trabajado con uno de los proveedores de soluciones de tiendas online más populares del mundo como es ePages,
desarrollando aplicaciones y tiendas online a medida para los clientes en el ámbito del comercio electrónico. A lo largo del tiempo,
se ha observado en esta empresa, una creciente demanda de incorporar al desarrollo de tiendas personalizadas, funcionalidades que permitan a los clientes
personalizar los productos para su posterior compra, es decir en el mercado actual hay una gran cantidad de clientes potenciales que podrían solicitar desarrollos de comercio
electrónico a medida con funcionalidades de personalización de productos.

Recientemente se ha decidido migrar de ePages a otra plataforma de comercio electrónico como es Shopify que ofrece otras tecnologías y herramientas
para el desarrollo personalizado de tiendas online. Debido a esta migración, los desarrollos a medida y aplicaciones estandarizadas de la otra plataforma quedan obsoletas para nuevos desarrollos
y surge la necesidad de adaptarse a estas nuevas herramientas y funcionalidades que nos proporciona Shopify para conseguir crear estos desarrollos de comercio a medida. Por lo que si
bien en las tiendas de ePages de los actuales clientes existen ya desarrollos y funcionalidades para la personalización de artículos, la transición a Shopify requiere la creación de
una nueva solución y adaptación para esta plataforma.

Debido a la necesidad que se crea propulsada por este gran cambio, nuestro objetivo con este proyecto es crear una aplicación para la plataforma Shopify que sea versátil y escalable
y permita integrarse en las tiendas de nuestros nuevos clientes para ofrecerles la capacidad de proporcionar experiencias de compra de productos personalizados,
manteniendo nuestro compromiso con la excelencia en el desarrollo de soluciones digitales para comercio electrónico.

\subsection{Herramientas y tecnologías empleadas}
En el desarrollo de aplicaciones web modernas, concretamente en la creación de tiendas personalizadas, la selección de los proveedores de soluciones
y las tecnologías apropiadas desempeña un papel fundamental para garantizar el desarrollo de soluciones efectivas y personalizadas para los clientes.
En este contexto, la decisión más trascendental ha sido la de seleccionar el mejor proveedor de soluciones, en nuestro caso \textbf{Shopify}.

Es importante destacar que la elección de parte de las tecnologías ha estado fuertemente influenciada por nuestra decisión de emplear Shopify
como base para nuestros desarrollos, pues debido a esto la búsqueda de las tecnologías necesarias para desarrollar el proyecto se han limitado a
tecnologías que se integran y están aceptadas sin problemas con la plataforma para conseguir aprovechar al máximo sus capacidades, si bien es cierto
que Shopify es una plataforma que está en continua mejora y crecimiento y no se queda atrás en cuanto a las tecnologías.

La plataforma \textbf{Shopify}, con su amplia gama de herramientas y funcionalidades para el comercio electrónico, 
proporciona una base sólida para el desarrollo de tiendas en línea personalizadas. Originaria de Canadá y 
fundada en 2006, esta se ha convertido en uno de los proveedores líderes en el mercado de comercio electrónico, 
atendiendo a millones de comerciantes en todo el mundo. 

Cuenta con multitud de ventajas frente a otras plataformas de comercio electrónico muy populares en el mercado. Una de las ventajas
mas trascendentales y que ha influenciado fuertemente  la decisión de Upango de migrar de \textbf{ePages} a esta tecnología, es el hecho de que Shopify elimina
las barreras iniciales al ofrecer un servicio completo que incluye registro de dominio y hosting web ilimitado. Esto nos simplifica el proceso de lanzamiento y mantenimiento
de una tienda al eliminar la necesidad de buscar proveedores de hosting externos, además de dotarnos de tecnologías avanzadas como servidores de alta
calidad, redes optimizadas y un CDN global para garantizar una velocidad de carga rápida. Esto no solo mejora la experiencia del usuario, sino que también 
tiene un impacto positivo en el posicionamiento SEO y en la tasa de conversión. Cabe destacar que Shopify cuenta con una tasa de conversión de las más
elevadas del mercado. \cite{shopify}

Una de las características con las que cuenta Shopify, es la habilidad de poder crear aplicaciones que puedan ampliar las capacidades existentes 
de esta plataforma. Esto nos permite agregar funcionalidades a las tiendas, ampliar la experiencia de la parte de administración
o crear experiencias de compra únicas para nuestros clientes. Gracias a esto los usuarios pueden instalar estas aplicaciones para ayudar a desarrollar
su negocio, integrarse con servicios externos y agregar funciones a su panel de control de Shopify. \cite{shopify-dev}

\subsubsection{Frontend}
En cuanto al frontend de nuestra aplicación podemos observar dos partes. 
Por un lado tenemos el frontend asociado a la parte de Administración de Shopify, 
esta parte hace referencia a la interfaz del usuario que los administradores de la tienda emplean para gestionar y controlar los diversos aspectos de
la misma, como la gestión de productos, pedidos, clientes, configuración de temas, traducciones y otros muchos aspectos de configuración de la tienda.
Al instalar nuestra aplicación en las tiendas que necesiten de sus funcionalidades esta parte del front se integrará con la página de administración de 
cada tienda, proporcionando la interfaz y las funcionalidades que configuremos en esta parte del desarrollo. En la Figura~\ref{fig:1} podemos observar la 
interfaz de administración de una tienda Shopify en desarrollo.

\begin{figure}[ht]
    \floatplacement{figure}{!t}
    \centering
    \includegraphics[width=0.8\textwidth]{imagenes/Interfaz de administración.png}
    \caption{\label{fig:1}Interfaz de administración de tienda Shopify}
    \vspace{\fill}
\end{figure}

Esta parte del front ha sido desarrollada empleando la biblioteca de JavaScript \textbf{React}. Esta es una libería de código abierto creada por el equipo de la
compañia Facebook (Meta) junto a una gran comunidad de desarrolladores independientes, que desde su lanzamiento en 2013 se ha convertido en una
de las tecnologías de frontend más usadas, ya que permite construir interfaces de usuario dinámicas y escalables. Esta se usa en el desarrollo de aplicaciones web y móviles. \cite{react-pag-1}
Toda aplicación web React, se compone de componentes reutilizables que conforman partes de la interfaz de usuario, podemos tener un componente distinto para
nuestra barra de navegación, otro para el pie de página, otro para el contenido principal, etc.
Tener estos componentes reutilizables facilita el desarrollo ya que no tenemos que repetir el código reiterativo, solo tendríamos que crear su lógica e
importar el componente en cualquier parte del código donde se necesite. Estos componentes representan una fusión de la estructura \textbf{HTML} con la funcionalidad de \textbf{JavaScript}.
React también conforma una aplicación de una sola página, por tanto, en lugar de enviar una petición al servidor cada vez que hay que renderizar una nueva página,
el contenido de la misma se carga directamente desde los componentes de React conduciendo de este modo a una renderización más rápida sin recargas de página. \cite{react-pag-2}

Para la integración de nuestra aplicación con el panel de administración de las tiendas Shopify se ha hecho uso de \textbf{App Bridge}, una biblioteca de JavaScript
desarrollada por Shopify que permite a los desarrolladores integrar las aplicaciones personalizadas para las tiendas. Es una interfaz
de programcaión diseñada para facilitar la comunicación entre la tienda y las aplicaciones externas que proporciona herramientas y funcionalidades
que permiten a los desarrolladores que sus aplicaciones se integren de forma nativa en el panel de administración y en la experiencia de compra
del cliente, permitiendo la capacidad de acceder a datos de la tienda como productos, pedidos y clientes así como la capacidad de interactuar con la interfaz
de usuario de la tienda agregando componentes y paneles personalizados. \cite{shopify-dev}

Además se ha empleado el sistema de diseño \textbf{Polaris}, una biblioteca de React que define los componentes necesarios para el panel de administración.
El panel de control de Shopify proporciona una superficie para que las aplicaciones integradas rendericen su interfaz de usuario, y el empleo de Polaris
es fundamental para crear experiencias de usuario familiares y coherentes.
Polaris incluye una guía de diseño, con instrucciones sobre accesibilidad, colores, tipografía, espaciado, nomenclatura y lenguaje práctico para ayudarnos 
a crear experiencias que se parezcan al resto del panel de administración. Nos proporciona componentes, es decir bloques de construcción reutilizables compuestos de 
elementos y estilos de interfaz empaquetados a través de código. Además nos proporciona tokens, es decir valores CSS con nombre que representan decisiones
de diseño para elementos como el color, el espaciado y la tipografía que podemos aplicar a los diseños para ayudar a unificar las experiencias de los usuarios.
También nos proporciona iconos cuidadosamente diseñados que se centran en el comercio y el emprendimiento, que podemos emplear como ayudas visuales para ayudar a los 
usuarios a completar tareas. Y por último nos proporciona patrones, soluciones repetibles a problemas comunes de UX en una situación expecífica del usuario
El buen uso de estos patrones hace que el panel de administración sea familiar y facil de usar. \cite{shopify-dev}

En cuanto a la otra parte del frontend de nuestra aplicación, tenemos la parte relacionada con el tema de la tienda. Un tema en Shopify es un conjunto de recursos
y archivos que determinan la apariencia, funcionalidad y sensación de una tienda en línea en esta plataforma, tanto para los comerciantes como para
sus clientes. Estos temas se construyen empleando un lenguaje de plantillas llamado \textbf{Liquid} que junto con \textbf{HTML}, \textbf{CSS} y \textbf{JavaScript} conforman la apariencia
y funcionalidades del frontend de la tienda online. Los desarrolladores pueden crear temas personalidados para las tiendas y ajustar los temas existentes 
para adaptarse a las necesidades de los comerciantes. \cite{shopify-dev}

Los administradores tienen la posibilidad de elegir entre varios temas para aplicar a su tienda desde la propia interfaz de administración,
ya sean los temas que proporciona Shopify o temas desarrollados y personalizados por otros usuarios como es el caso de Upango. Estos temas pueden ser
configurados desde la interfaz de administración por los comerciantes.
En la Figura~\ref{fig:2} podemos observar la pantalla de la interfaz de administración en la que aparece el tema seleccionado, además se puede observar una 
biblioteca de temas con otros temas sin publicar. También podemos destacar el botón de personalizar que aparece
sobre el tema que está activo, este nos abriría un editor que nos permitiría ajustar ciertos aspectos visuales y detalles funcionales del tema establecido.

\begin{figure}[ht]
    \floatplacement{figure}{!t}
    \centering
    \includegraphics[width=0.8\textwidth]{imagenes/Interfaz de adminsitración elección de tema.png}
    \caption{\label{fig:2}Selección de tema en la interfaz de administración}
    \vspace{\fill}
\end{figure}

Para ampliar el tema de las tiendas en las que se instale la aplicación que hemos desarrollado y así poder dotarla de las funcionalidades de personalización de 
artículos, hemos creado en la aplicación lo que se conoce como \textbf{App Theme Extension}. Las extensiones de aplicaciones de temas permiten a los comerciantes
agregar fácilmente elementos dinámicos a sus temas sin tener que interactuar directamente con las plantillas o el código \textbf{Liquid} del tema. Estas extensiones
se integran con el tema de la tienda exponiendo automáticamente en el editor de temas las secciones y elementos que haya programados en la aplicación. \cite{shopify-dev}
Una de las ventajas de desarrollar estas partes del tema en la aplicación y no directamente en el tema de la tienda, es que las secciones de código y funcionalidades
que programemos en la aplicación pasarán a estar disponibles en el tema de la tienda en la que se instale directamente sin necesidad de tener que ir modificando el tema
de cada tienda en la que queramos instalar nuestra aplicación, es decir, puede implementarse la aplicación al mismo tiempo en todas las tiendas que la usan,
sin necesidad de que los comerciantes tengan que editar manualmente el código del tema.

Los \textbf{App Theme Extension} tienen una estructura similar a los temas, ya que son como una prolongación de ellos. Estos contienen los siguientes recursos. 
Por un lado contienen los Bloques, que son archivos en Liquid que actúan como punto de entrada para lo que se desea inyectar en un tema. Por otro lado
tienen los recursos, que contienen los ficheros CSS, JavaScript y otros contenidos estáticos de la aplicación que se insertan en los temas. Además tienen
los snippets o fragmentos, que son fragmentos de código Liquid reutilizables que se pueden emplear en varios bloques. Y por último tienen una estructura de archivos locales
para implementar un sistema de traducciones en los idiomas que se configuren. \cite{shopify-dev}

Como se ha comentado anteriormente, para el desarrollo de estas interfaces del tema se emplea \textbf{Liquid}, un lenguaje de plantillas creado por Shopify que
permite crear una sola plantilla para alojar el contenido estático e insertar información dinámicamente en función de dónde se representa la plantilla.
Por ejemplo, podemos crear plantillas de producto que alojen todos los atributos estándar del mismo, como la imagen, el título, el precio y demás, y esta 
plantilla puede representar dinámicamente esos atributos con el contenido adecuado en función del valor actual que se esté viendo. \cite{shopify-dev}
Además en las plantillas junto con Liquid hemos empleado \textbf{HTML}, \textbf{CSS} y \textbf{JavaScript} para completar el desarrollo de la extensión del tema. Hacemos uso de HTML para estructurar
el contenido y crear elementos de las páginas, CSS para definir y dar estilos visuales a los elementos y JavaScript para agregar la interactividad y la 
funcionalidad dinámica a la página. 

En el desarrollo frontend de la parte del tema, se ha hecho uso de una de las herramientas de las que nos proporciona Shopify, la \textbf{Shopify Ajax API}. La API de Ajax
proporciona un conjunto de puntos finales ligeros para el desarrollo de temas, esta nos permite agregar productos al carrito y actualizar el contador
de artículos del mismo, mostrar recomendaciones de productos relaccionados, sugerir productos y colecciones a los visitantes a medida que escriben
en un campo de búsqueda y una larga lista de funcionalidades que nos serán útiles para interactuar con la tienda.\cite{shopify-dev}

\subsubsection{Backend}
En cuanto al Backend de nuestra aplicación vamos a usar \textbf{Node.js}. Node es un entorno que trabaja en tiempo de ejecución, de código abierto, multi-plataforma, 
que permite a los desarrolladores crear toda clase de herramientas del lado del servidor y aplicaciones en \textbf{JavaScript}. 
Este nos proporciona un gran numero de ventajas. Ofrece un gran rendimiento, pues ha sido diseñado específicamente para optimizar el rendimiento y la
escalabilidad en aplicaciones web, lo que lo convierte en un excelente complemento para resolver problemas comunes de desarrollo web como aplicaciones
en tiempo real. Todo el código se escribe en JavaScript, lo que nos simplifica trabajo y ahorra tiempo al no tener que preocuparse por las conmutaciones
de contexto entre diferentes lenguajes al escribir tanto el código del navegador como del servidor. Además JavaScript es un lenguaje relativamente nuevo
y se beneficia de los avances en diseño de lenguajes en comparación con otros lenguajes tradicionales. \textbf{Node} cuenta con \textbf{NPM} (Node Packet Manager), un gestor 
de paquetes que nos proporciona acceso a una amplia gama de paquetes reutilizables, ofrece una excelente resolución de dependencias y nos permite automatizar
gran parte de la cadena de herramientas de compilación. También Node es portable y compatible con multitud de sistemas operativos y está soportado por muchos
proveedores de alojamiento web, contando con un gran ecosistema y una comunidad de desarrolladores muy activa. Por último este entorno nos brinda muchas facilidades
para crear servidores web básicos capaces de responder a cualquier solicitud empleando el paquete HTTP de Node y simplificando el proceso de desarrollo y despliegue de
aplicaciones Web.\cite{node}

Además hemos empleado \textbf{Express}, el framework web más popular de Node, este simplifica enormemente el desarrollo de aplicaciones web al proporcionar
una serie de características esenciales. Con Express, los desarrolladores pueden escribir fácilmente manejadores de peticiones para diferentes 
verbos HTTP en diversas rutas URL, integrar motores de renderización de vistas para generar respuestas dinámicas y establecer configuraciones de 
aplicaciones web de manera intuitiva. Además, permite la adición de procesamiento de middleware adicional en cualquier punto de la tubería de manejo de 
la petición, brindando flexibilidad y modularidad al desarrollo. \cite{node}

En esta parte de la aplicación, hemos hecho uso de la API de administración \textbf{GraphQL} que nos proporciona Shopify. Esta consituye la principal forma en la que 
las aplicaciones pueden interactuar con la tienda, permitiendonos leer y escribir la información de la tienda incluidos los productos, inventario, pedidos,
envíos y mucho más, permitiendonos ampliar la funcionalidad existente de Shopify. Gracias a esta API podemos conectar el inventario
de la tienda con otros marketplaces y nos ofrece infinidad de posibilidades, pudiendo añadir nuevas funcionalidades en el panel de control.
Esta API es compatible tanto con GraphQL como con REST aunque para nuestro desarrollo emplearemos GraphQL. Para interactuar con esta API las aplicaciones
deben autenticarse además de contar con los ámbitos de acceso pertinentes para acceder a los datos que se necesiten o se quieran modificar. \cite{shopify-dev}


\subsubsection{Otras tecnologías}
Para la elaboración de este TFG hemos empleado \textbf{Visual Studio Code} como entorno de desarrollo tanto para la creación de la aplicación como para
la redación del propio TFG en \textbf{LaTeX}, empleando una serie de extensiones que nos han facilitado el trabajo. 
Hemos aprovechado extensiones como Shopify Liquid Templates, Shopify Liquid, 
Polaris for VS Code, JavaScript (ES6), GraphQL, Latex Language support, Latex Workshop y ESLint para garantizar un desarrollo y documentación
fluida y eficaz. Estas extensiones han proporcionado una serie de funcionalidades como resaltado de sintaxis, autocompletado y validación de código, 
acceso rápido a la documentación, formateo de código y una serie de ventajas que nos han facilitado significativamente la creación y documentación de la aplicación.

Hemos empleado \textbf{Git} para llevar un control de versiones de la aplicación junto con \textbf{Azure DevOps}, una plataforma de Microsoft que nos ofrece una amplia
gama de características y funcionalidades que nos permiten a los equipos de desarrolo colaborar de manera efectiva en equipo y optimizar el proceso de desarrollo
de software. Esta herramienta nos ofrece gestión del código fuente, permitiendonos almacenar y administrar el código fuente de nuestro proyecto en 
repositorios de código. También nos facilita la planificación, asignación y seguimiento de las tareas, problemas y requisitos del proyecto, haciendo
un seguimiento del trabajo, y muchas otras fucionalidades útiles para el desarrollo como seguimiento, pruebas y gestión del ciclo de vida de los proyectos. \cite{devOps}

\section{Análisis de objetivos y metodología}
En esta sección se describen los objetivos que se persiguen con el desarrollo de este proyecto, así como la metodología empleada (tareas y temporalización) para alcanzar estos objetivos.

\subsection{Objetivos}

El objetivo principal de este TFG consiste en el análisis, diseño y desarrollo de una aplicación para la plataforma Shopify que nos permita
la personalización de productos para su posterior compra en las tiendas en las que se acople dicha aplicación. Para conseguir lograr este objetivo 
principal, se han propuesto los siguientes objetivos específicos.

\begin{enumerate}
    \item Realizar el análisis y estudio de las tecnologías y herramientas necesarias para el desarrollo de esta aplicación. \label{item:objetivo1}
    \item Analizar las funcionalidades y requisitos necesarios que debe tener la aplicación en base a los requisitos solicitados por antiguos clientes. \label{item:objetivo2}
    \item Habiendo hecho el estudio de tecnologías y análisis de requisitos, realizar una división de tareas para obtener una serie de pasos a seguir para lograr el desarrollo. (Diseño) \label{item:objetivo3}
    \item Implementar la aplicación siguiendo la división de tareas establecida. \label{item:objetivo4}
    \item Analizar algunas funcionalidades o requisitos adicionales que puedan requerir los futuros clientes y diseñar y dividir su implementación en tareas. \label{item:objetivo5}
    \item Implementar estas nuevas funcionalidades siguiendo las tareas para mejorar la aplicación. \label{item:objetivo6}
    \item Desplegar la aplicación en una tienda de pruebas para comprobar su funcionamiento, realizar pruebas manuales y compras ficticias. \label{item:objetivo7}
    \item Documentar todo este procedimiento para plasmarlo en el TFG. \label{item:objetivo8}
\end{enumerate}

\subsection{Metodología}
Etapas en las que se ha divido la realización del TFG, con indicación de fechas de inicio/fin.

\subsubsection{Temporalización}

\begin{enumerate}[label={\textbf{\textbullet}}]
    \item \textbf{Etapa 1. Análisis inicial.} Esta primera etapa comprende el objetivo \ref{item:objetivo1}. En este periodo se realiza un estudio de las tecnologías
    que necesitamos para llevar a cabo el desarrollo y en base al estudio se va realizando un primer planteamiento de la solución a desarrollar. Esta etapa se puede dividir en las siguientes fases.
    \begin{enumerate}
        \item Estudiar la plataforma Shopify y todas sus funcionalidades, como controlar la parte de administración de una tienda, aprender a crear aplicaciones, desarrollar temas y configurarlos y demás.
        \item Estudiar las tecnologías para la primera parte del Frontend en este caso React y sus bibliotecas.
        \item Estudiar las tecnologías para la segunda parte del Frontend (Extensión de tema), ponerse al día con Liquid, HTML, CSS y JavaScript.
        \item Estudiar las tecnologías para la parte del Backend en nuestro caso Node.js y su libería Express. 
    \end{enumerate}
    \item \textbf{Etapa 2. Análisis de requisitos y diseño funcionalidades principales.} Esta etapa comprende los objetivos \ref{item:objetivo2} y \ref{item:objetivo3}.
    Durante esta estapa se realiza un análisis de requisitos básicos que debe tener la aplicación, se crean las historias de usuario correspondientes en base a esos requisitos y se realiza un diseño de cada
    funcionalidad a implementar dividiendo su desarrollo en tareas.
    \item \textbf{Etapa 3. Implementación de la aplicación.} Esta etapa comprende los objetivos \ref{item:objetivo4}, \ref{item:objetivo5} y \ref{item:objetivo6}.
    Esta es la etapa mas larga del desarrollo, en ella se implementan las tareas diseñadas, y vamos cumpliendo todas esas historias de usuario y requisitos analizados previamente.
    La implementación tanto de la parte Backend como del Frontend se ha ido alternando y desarrollando correlativamente según estaba diseñado en las tareas. Cabe destacar que el desarrollo de esta aplicación se ha focalizado
    más en el Frontend que en el Backend, pues la mayor parte de funcionalidades de la misma recaen sobre la parte Front. En esta etapa se ha ido probando en una tienda de desarrollo cada una de las funcionalidades implementadas en las tareas, 
    para ir comprobando el funcionamiento de la aplicación. Una vez desarrolladas y comprobadas todas las tareas se han diseñado, implementado y probado unas casuísticas y funcionalidades
    extra que los futuros clientes pueden necesitar en sus desarrollos personalizados.
    \item \textbf{Etapa 4. Despliegue en tienda de muestra.} Esta etapa comprende el objetivo \ref{item:objetivo7}. 
    Durante esta etapa, se instala la aplicación en una tienda de muestra y se realiza el diseño y maquetación del tema de la misma. Además se rediseña el frontend (extensión de tema) de la aplicación de modo que el diseño del personalizador de artículos
    encaje con el diseño general de la tienda. En esta etapa también se realizan pruebas de todo el funcionamiento del personalizador y se realizan pedidos ficticios para comprobar el correcto
    funcionamiento de todo el desarrollo. Gracias al trabajo de esta etapa hemos conseguido desarrollar una tienda de demostración con la funcionalidad de personalización de artículos, que podemos
    mostrar a esos posibles clientes para realizarles una demostración del potencial de las funcionalidades de personalización de artículos.
    \item \textbf{Etapa 5. Documentación y desarrollo del TFG.} Esta última estapa comprende el objetivo \ref{item:objetivo8}. Durante esta etapa
    se lleva a acabo la documentación del Trabajo de Fin de Grado, se redacta de una forma estructurada todo el procedimiento llevado a cabo para desarrollar
    la aplicación y se llevan cabo reuniones con el tutor para ir revisando y compartiendo opiniones sobre la documentación.
\end{enumerate}

\subsubsection{Proceso de desarrollo}
En la implementación de este proyecto se ha seguido un proceso de desarrollo enfocado en las metodologías ágiles, caracterizado por su naturaleza iterativa e incremental y por su fácil adaptabilidad a los cambios. Como se ha podido observar en las etapas del desarrollo,
hemos implementado las funcionalidades de manera iterativa, lo que nos ha permitido construir las distintas partes de la aplicación paso a paso e ir probándolas en varios ciclos.
Esta práctica nos ha permitido la obtención de retroalimentación y la capacidad de realizar ajustes a lo largo del desarrollo según ha sido necesario.
Además una vez implementamos y probamos las funcionalidades básicas de la aplicación, estas se ampliaron y se desarrollaron una serie de casuísticas y funciones adicionales para preaparar la aplicación a posibles
requisitos futuros. Esto demuestra la capacidad de adaptación a los cambios según las necesidades de los clientes. De hecho esta es una aplicación con una funcionalidad estandarizada, pero 
cada cliente solicita desarrollos personalizados que difieren bastante unos de otros, por lo que la adaptabilidad a los cambios de esta aplicación es una característica fundamental para el ámbito en el que se ha creado.
Además el uso de Azure DevOps para gestionar, las historias de usuario y las tareas asociadas a esas historias, añade otro elemento característico y fundamental de las metodologías ágiles, especialmente con un enfoque como Kanban o Scrum.
Esto se debe a que Azure DevOps, proporciona una interfaz visual para organizar las tareas de este proyecto, y donde todo el equipo tiene visible el progreso y desarrollo del mismo.
Nos ofrece una funcionalidad de backlogs \ref{fig:3}, en la cual podemos crear y gestionar una lista prioritaria de elementos que representan el trabajo pendiente de un proyecto, en nuestro caso la aplicación de personalización de artículos. En nuestro marco de trabajo, este backlog contiene todas las funcionalidades, características, mejoras y correcciones que se desean implementar
en el producto y estos elementos están descritos en forma de historias de usuario que representan las necesidades del cliente y que contienen las tareas que se deben seguir para el desarrollo.
Este backlog es dinámico y evoluciona a lo largo del proyecto, y sus elementos se priorizan en función de su valor para el producto \ref{fig:4} y se ajustan continuamente en función de los cambios en los requisitos o las necesidades del proyecto.
Además esta herramienta cuenta también con una funcionalidad que nos permite marcar las tareas con diferentes estados como ``Nueva'', ``Activa'', ``Lista para pruebas'', ``Testing'', ``Resuelta'' y ``Cerrada'' \ref{fig:4}. Esto nos permite un seguimiento claro y conciso del flujo de trabajo de cada tarea
y nos permite una gestión eficiente del trabajo pendiente. También hay que destacar en cuanto al proceso de desarrollo, que tanto la parte de frontend como de backend se ha ido desarrollando y probando correlativamente en función de las necesidades de cada tarea y las funcionalidades a implementar, por lo que como se puede ver, 
este desarrollo ha ido creciendo iteración tras iteración y tarea tras tarea en todo su conjunto, mejorando en funcionalidad. Este ha sido creado de tal manera que está preparado para crecer en un futuro continuando con este proceso incremental.

\begin{figure}[ht]
    \floatplacement{figure}{!t}
    \centering
    \includegraphics[width=0.8\textwidth]{imagenes/Backlogs de Devops.png}
    \caption{\label{fig:3}Backlogs del proyecto en Azure DevOps}
    \vspace{\fill}
\end{figure}

\begin{figure}[ht]
    \floatplacement{figure}{!t}
    \centering
    \includegraphics[width=0.8\textwidth]{imagenes/Estados y prioridad de tarea.png}
    \caption{\label{fig:4}Estados y prioridad de una tarea del Backlog}
    \vspace{\fill}
\end{figure}



\section{Diseño y resolución del trabajo realizado}
Parte más extensa del trabajo donde se describe lo que se ha hecho paso por paso y el resultado final.

\subsection{Análisis}
Requisitos textuales o la definición de casos de uso o las historias de usuario

\subsubsection{Historias de usuario}

\subsubsubsection{Historia de Usuario 1: Botón de Personalizar en la Ficha de Producto}\label{sec:historia1}

Como administrador de la tienda, quiero poder observar en las páginas de producto un botón que posteriormente servirá para activar una funcionalidad de personalización del producto.

\vspace{0.5cm}
\textbf{Criterios de Aceptación:}
\begin{enumerate}[label=\arabic*.]
    \item Cuando visualizo la ficha de un producto en la tienda,
          \begin{itemize}[label=--]
              \item Debe haber un botón claramente identificable como "Personalizar".
          \end{itemize}
    \item El botón "Personalizar" solo debe mostrarse si el producto es de impresión,
          \begin{itemize}[label=--]
              \item Un producto se considerará de impresión si tiene información específica en su metafield denominado \textit{upng.areas\_impresion}.
          \end{itemize}
    \item El título del botón debe ser recuperado de los archivos de locales,
          \begin{itemize}[label=--]
              \item Se deben preparar traducciones en inglés y español para el texto del botón y cualquier otro texto relevante en la aplicación.
          \end{itemize}
\end{enumerate}


\subsubsubsection{Historia de Usuario 2: Configuración de Opciones de Envío Internacional}\label{sec:historia2}

Como administrador de la tienda,
quiero poder configurar opciones de envío internacional
para poder ofrecer servicios de envío a clientes de todo el mundo y gestionar eficazmente los envíos internacionales.

\vspace{0.5cm}
\textbf{Criterios de Aceptación:}
\begin{enumerate}[label=\arabic*.]
    \item Debe existir una sección en el panel de administración para configurar opciones de envío internacional.
          \begin{itemize}[label=--]
              \item Los administradores deben poder acceder fácilmente a esta sección desde el panel de control de la tienda.
          \end{itemize}
    \item Se deben ofrecer diferentes métodos de envío internacional,
          \begin{itemize}[label=--]
              \item Los métodos de envío deben incluir opciones como correo prioritario, envío estándar, envío exprés, entre otros.
          \end{itemize}
    \item Los administradores deben poder establecer tarifas de envío específicas para cada región internacional,
          \begin{itemize}[label=--]
              \item Se debe proporcionar un formulario donde los administradores puedan ingresar tarifas de envío para diferentes regiones del mundo.
          \end{itemize}
\end{enumerate}


\subsubsubsection{Historia de Usuario 3: Configurar Impresión al Añadir al Pedido}\label{sec:historia3}

Como administrador de la tienda, deseo poder configurar la impresión de productos antes de añadirlos al pedido, para poder personalizarlos según las necesidades de los clientes.

\vspace{0.5cm}
\textbf{Criterios de Aceptación:}
\begin{enumerate}[label=\arabic*.]
    \item Al pulsar el botón de "Añadir al Pedido de Impresión", se debe abrir un modal que permita al usuario configurar la impresión del producto.
    \item El modal debe mostrar toda la información relevante sobre la impresión y permitir al usuario ajustar la configuración según sea necesario.
    \item Se debe crear una estructura JavaScript utilizando Liquid para tener preparados todos los datos de áreas, trabajos, clichés, etc., de manera que no sea necesario realizar llamadas adicionales al Admin API para obtener la información.
    \item En el modal, se debe mostrar un resumen claro y detallado de los elementos seleccionados por el usuario, incluyendo el nombre del producto, la cantidad, las áreas seleccionadas, los trabajos en cada área, los clichés, los precios individuales y el importe total.
    \item El usuario debe poder ingresar la cantidad de productos a imprimir, empleando el selector de cantidad por defecto.
    \item Se deben mostrar las áreas de impresión que tenga el producto y de cada área de impresión debe mostrarse una imagen, su nombre y medidas ajustables (ancho y largo) en inputs. Estos inputs deben validar que el valor máximo sea el de la medida del área y el mínimo sea cero.
    \item Se debe mostrar un checkbox junto a cada área para que el usuario pueda seleccionar en cuáles desea imprimir.
    \item Las imágenes de las áreas que no tengan una definida deben mostrar una imagen por defecto, configurable a través del Theme App Extension.
    \item Cada área debe mostrar los trabajos disponibles en un desplegable para que el usuario pueda seleccionar el que desee.
    \item Cada trabajo tiene un número máximo de colores, por lo que al lado del desplegable de trabajos debe aparecer un desplegable de colores para que el usuario elija el número de colores que necesita. Y cada vez que se actualice el trabajo seleccionado deberá refrescarse este desplegable.
    \item Los selectores de trabajo y colores de las áreas que el usuario no haya seleccionado deberán aparecer como desactivadas.
    \item Se debe habilitar un campo de observaciones en cada área donde el usuario pueda agregar las notas pertinentes.
    \item Para cada trabajo, se debe permitir al usuario seleccionar el número de colores y especificar los colores deseados. Para ello según la selección del usuario en el desplegable de colores se deberán añadir tantos selectores de colores como colores se hayan seleccionado en el mismo. Además del selector de colores se añadirán campos de texto libre para que el usuario pueda especificar cada color mediante esta forma.
    \item Se debe incluir la opción de marcar si un cliché es de repetición, afectando al precio final.
    \item Se debe actualizar dinámicamente la información del resumen al seleccionar o deseleccionar áreas, trabajos y colores.
    \item El diseño del modal debe ser responsive para una experiencia óptima en dispositivos móviles.
    \item Los trabajos deben tener precios diferentes para el color principal y el resto de colores, con posibilidad de seleccionar variantes según sea necesario.
\end{enumerate}


\subsubsubsection{Historia de Usuario 4: Mejora en la Funcionalidad de Añadir al Carrito}\label{sec:historia4}

Como administrador de la tienda,
quiero que al añadir productos relacionados (productos normales, trabajos y clichés) al carrito, estos estén agrupados y vinculados de manera que no se puedan borrar o editar por separado,
para mejorar la experiencia de compra y facilitar la gestión de los productos de impresión.

\vspace{0.5cm}
\textbf{Criterios de Aceptación:}
\begin{enumerate}[label=\arabic*.]
    \item Se debe investigar si el uso de customized bundles es adecuado para agrupar y vincular los productos relacionados en el carrito.
    \item Estos productos tienen que estar agrupados y de forma que no se puedan eliminar o editar por separado.
    \item Toda la información de impresión configurada (medidas, colores, imagen adjunta y observaciones de cada área) debe guardarse al añadir al carrito, para que pueda transferirse al pedido durante el proceso de checkout.
    \item Al añadir productos al carrito, se deben incluir:
          \begin{itemize}
              \item El producto "normal".
              \item Los productos "trabajos" seleccionados en diferentes áreas, con la variante adecuada según el número de colores seleccionados.
              \item Los productos "clichés" asociados al trabajo, con la variante adecuada según si es de repetición o no.
          \end{itemize}
    \item La cantidad de cada producto añadido al carrito debe ser considerada y reflejada correctamente.
\end{enumerate}

\subsubsubsection{Historia de Usuario 5: Visualización Agrupada de Productos de Impresión en el Carrito}\label{sec:historia5}

Como comerciante en la plataforma,
quiero que los productos de impresión, junto con sus trabajos y clichés asociados, se visualicen de forma agrupada en el carrito de la tienda,
para proporcionar una experiencia de compra clara y comprensible para mis clientes.

\vspace{0.5cm}
\textbf{Criterios de Aceptación:}
\begin{enumerate}[label=\arabic*.]
    \item Los productos de impresión deben aparecer agrupados en el carrito, mostrando claramente sus trabajos y clichés asociados.
    \item El detalle de estos paquetes de productos de impresión en el carrito debe ser similar a la visualización que se presenta durante el proceso de checkout.
    \item La visualización agrupada en el carrito debe ser coherente con el diseño y la funcionalidad general de la tienda.
\end{enumerate}


\subsubsubsection{Historia de Usuario 6: Personalización Dinámica de Precios para Trabajos Específicos}\label{sec:historia6}

Como administrador de la tienda,
quiero que algunos trabajos puedan cambiar su precio de forma dinámica en función de ciertas condiciones,
para ofrecer precios precisos y competitivos a mis clientes según las características específicas de cada trabajo.

\vspace{0.5cm}
\textbf{Criterios de Aceptación:}
\begin{enumerate}[label=\arabic*.]
    \item Se debe poder personalizar dinámicamente el precio de ciertos trabajos en función de condiciones específicas.
    \item Los precios personalizados deben ser precisos y reflejar adecuadamente cualquier cambio en las condiciones que afecten al precio del trabajo.
\end{enumerate}

\subsubsubsection{Historia de Usuario 7: Visualización Atractiva del Logo del Cliente en el Producto}\label{sec:historia7}

Como administrador de la tienda,
quiero poder mostrar al cliente una representación visual atractiva de cómo quedaría su logo en el producto,
para ofrecer una experiencia de compra más personalizada y satisfactoria.

\vspace{0.5cm}
\textbf{Criterios de Aceptación:}
\begin{enumerate}[label=\arabic*.]
    \item Se debe poder mostrar una imagen del logo del cliente en el producto de forma atractiva y realista.
    \item La visualización del logo debe reflejar fielmente su posición y tamaño en relación con las áreas designadas del producto.
    \item La implementación de la visualización del logo debe ser viable y práctica dentro del contexto de la tienda en línea.
\end{enumerate}


\subsubsubsection{Historia de Usuario 8: Automatización de la Creación de Metafields Necesarios}\label{sec:historia8}

Como administrador de la tienda,
quiero una opción para crear automáticamente los metafields necesarios para la app,
para simplificar y agilizar el proceso de configuración y evitar posibles errores manuales.

\vspace{0.5cm}
\textbf{Criterios de Aceptación:}
\begin{enumerate}[label=\arabic*.]
    \item Se debe proporcionar una opción en el panel de configuración de la app para crear automáticamente los metafields necesarios.
    \item La creación de los metafields debe realizarse de manera controlada y asegurarse de no duplicar campos ya existentes.
    \item Después de ejecutar la creación de metafields, se debe mostrar un mensaje de feedback al usuario indicando el resultado de la operación.
    \item La configuración de qué metafields se crearán debe ser configurable para facilitar la expansión y reutilización de la funcionalidad en otras aplicaciones.
\end{enumerate}


\subsubsubsection{Historia de Usuario 9: Gestión de Casuística "Doble Pasada" en Productos y Trabajos}\label{sec:historia9}

Como administrador de la tienda,
quiero poder gestionar la casuística de "doble pasada" en productos y trabajos,
para aplicar recargos adicionales en caso de que tanto el producto como el trabajo seleccionados tengan la opción de "doble pasada" activada.

\vspace{0.5cm}
\textbf{Criterios de Aceptación:}
\begin{enumerate}[label=\arabic*.]
    \item Debe existir un nuevo metafield booleano llamado "DOBLE PASADA" para los productos y los trabajos.
    \item Si se selecciona un producto con la opción "DOBLE PASADA" activada y se elige un trabajo que también tenga esta opción activada, se debe mostrar en el presupuestador un check para permitir al usuario seleccionar la opción de "doble pasada".
    \item Si se cambia el trabajo seleccionado a uno que no tenga la opción de "doble pasada", el check debe ocultarse automáticamente.
    \item Este recargo adicional debe mostrarse en el resumen del pedido del presupuestador.
\end{enumerate}


\subsubsubsection{Historia de Usuario 10: Gestión del Canon Digital en Productos}\label{sec:historia10}

Como administrador de la tienda,
quiero poder gestionar el canon digital en ciertos productos,
para aplicar un importe fijo adicional al precio de algunos productos específicos.

\vspace{0.5cm}
\textbf{Criterios de Aceptación:}
\begin{enumerate}[label=\arabic*.]
    \item Debe existir un metafield llamado "Importe Canon" para los productos, que permita indicar si un producto tiene canon digital y especificar el importe correspondiente.
    \item Se debe crear un producto especial con un precio de un céntimo, que se utilizará para añadir el importe del canon digital al carrito de compra.
\end{enumerate}


\subsubsubsection{Historia de Usuario 11: Adición Automática de Línea de Canon al Añadir un Producto al Carrito}\label{sec:historia11}

Como administrador de la tienda,
quiero que al añadir un producto al carrito, se agregue automáticamente una línea de canon digital correspondiente al producto seleccionado,
para reflejar correctamente el importe del canon asociado a los productos en mi carrito de compra.

\vspace{0.5cm}
\textbf{Criterios de Aceptación:}
\begin{enumerate}[label=\arabic*.]
    \item Cuando se añada un producto al carrito, se debe agregar automáticamente una línea de canon digital asociada al producto.
    \item La línea de canon digital debe estar vinculada al producto correspondiente y reflejar el importe del canon establecido para ese producto.
    \item Se debe utilizar bundles para asociar cada línea de producto con su línea de canon digital correspondiente en el carrito.
\end{enumerate}


\subsection{Diseño}

\subsubsection{Tareas}

\textbf{Tareas relacionadas con la \hyperref[sec:historia1]{Historia de usuario 1}:}
\begin{itemize}
    \item \textbf{Tarea 1:} Crear una Aplicación y una Extensión de Tema:
          \begin{itemize}[label=--]
              \item Descripción: Crear una aplicación e instalarla en la tienda y crear un theme app extensión para poder añadir el botón a las plantillas de ficha de producto a través del personalizador del theme.
          \end{itemize}
    \item \textbf{Tarea 2:} Crear el botón y mostrarlo si el Producto es de Impresión:
          \begin{itemize}[label=--]
              \item Descripción: Utilizar liquid para verificar si el producto es de impresión. Un producto se considerará de impresión si tiene información específica en su metafield denominado \textit{upng.areas\_impresion}.
              \item Mostrar el botón "Personalizar" si el producto cumple con los criterios establecidos; de lo contrario, ocultar el botón.
          \end{itemize}
    \item \textbf{Tarea 3:} Recuperar el Texto del Botón de los Archivos de Locales:
          \begin{itemize}[label=--]
              \item Descripción: Configurar la aplicación para que el texto del botón y cualquier otro texto relacionado se recupere de los archivos de locales. Preparar traducciones en inglés y español para garantizar una experiencia multilingüe completa.
          \end{itemize}
\end{itemize}

\textbf{Tareas relacionadas con la \hyperref[sec:historia2]{Historia de usuario 2}:}
\begin{itemize}
    \item \textbf{Tarea 1:} Crear Sección de Configuración de Envío Internacional:
          \begin{itemize}[label=--]
              \item Descripción: Implementar una sección en el panel de administración de la tienda para que los administradores puedan configurar opciones de envío internacional de manera intuitiva.
          \end{itemize}
    \item \textbf{Tarea 2:} Definir Métodos de Envío Internacional:
          \begin{itemize}[label=--]
              \item Descripción: Establecer diferentes métodos de envío internacional disponibles para los clientes, incluyendo opciones de envío prioritario, estándar y exprés, entre otros.
          \end{itemize}
    \item \textbf{Tarea 3:} Establecer Tarifas de Envío por Región:
          \begin{itemize}[label=--]
              \item Descripción: Crear un formulario en la sección de configuración de envío internacional donde los administradores puedan ingresar tarifas de envío específicas para cada región del mundo.
          \end{itemize}
\end{itemize}

\textbf{Tareas relacionadas con la \hyperref[sec:historia3]{Historia de usuario 3}:}
\begin{itemize}
    \item \textbf{Tarea 1:} Abrir un modal:
          \begin{itemize}[label=--]
              \item Descripción: Al pulsar el botón "Añadir al Pedido de Impresión", se debe abrir un modal que contenga toda la información necesaria para configurar la impresión del producto.
          \end{itemize}
    \item \textbf{Tarea 2:} Crear estructura JavaScript para datos de impresión:
          \begin{itemize}[label=--]
              \item Descripción: Utilizar Liquid para crear una estructura JavaScript que contenga todos los datos relevantes de áreas, trabajos, clichés, etc., necesarios para la configuración de la impresión. Esto permitirá tener los datos disponibles en el modal sin necesidad de realizar llamadas adicionales al Admin API.
          \end{itemize}
    \item \textbf{Tarea 3:} Mostrar datos del resumen:
          \begin{itemize}[label=--]
              \item Descripción: En el modal, mostrar una sección de resumen que presente de manera clara y detallada todos los elementos seleccionados por el usuario, incluyendo el nombre del producto, cantidad, áreas seleccionadas con trabajos y clichés, precios individuales y el importe total. Esta sección debe actualizarse dinámicamente al configurar diferentes elementos de la impresión.
          \end{itemize}
    \item \textbf{Tarea 4:} Ajustar la cantidad de productos:
          \begin{itemize}[label=--]
              \item Descripción: Permitir al usuario ingresar la cantidad de productos que desea imprimir. Esta cantidad se multiplicará por el precio de la impresión para calcular el importe total.
          \end{itemize}
    \item \textbf{Tarea 5:} Mostrar áreas de impresión:
          \begin{itemize}[label=--]
              \item Descripción: Mostrar todas las áreas de impresión disponibles para el producto, incluyendo una imagen, nombre y medidas ajustables (ancho y largo). Habilitar un checkbox para que el usuario pueda seleccionar las áreas en las que desea imprimir.
          \end{itemize}
    \item \textbf{Tarea 6:} Imagen por defecto para áreas sin imagen:
          \begin{itemize}[label=--]
              \item Descripción: Configurar una imagen por defecto para las áreas que no tengan una imagen definida. Permitir al usuario personalizar esta imagen a través del Theme App Extension.
          \end{itemize}
    \item \textbf{Tarea 7:} Mostrar trabajos para cada área:
          \begin{itemize}[label=--]
              \item Descripción: Para cada área de impresión seleccionada, mostrar los trabajos disponibles en un desplegable. Permitir al usuario seleccionar el trabajo deseado y especificar el número de colores.
          \end{itemize}
    \item \textbf{Tarea 8:} Incluir campo de observaciones:
          \begin{itemize}[label=--]
              \item Descripción: En cada área de impresión, incluir un campo de observaciones donde el usuario pueda agregar notas pertinentes relacionadas con la impresión.
          \end{itemize}
    \item \textbf{Tarea 9:} Seleccionar colores:
          \begin{itemize}[label=--]
              \item Descripción: Permitir al usuario seleccionar el número de colores para cada trabajo en un desplegable. Además, proporcionar campos de texto para que el usuario especifique los colores. Estos campos estarán habilitados solo si el cliente selecciona el área correspondiente.
          \end{itemize}
    \item \textbf{Tarea 10:} Marcar cliché de repetición:
          \begin{itemize}[label=--]
              \item Descripción: Incluir un checkbox para que el usuario pueda indicar si el cliché es de repetición o no. Este factor afectará al precio final de la impresión.
          \end{itemize}
    \item \textbf{Tarea 11:} Seleccionar áreas:
          \begin{itemize}[label=--]
              \item Descripción: Habilitar y deshabilitar los campos de trabajos, colores, medidas, etc., según las áreas seleccionadas por el usuario. Actualizar dinámicamente la información del resumen con los precios correspondientes.
          \end{itemize}
    \item \textbf{Tarea 12:} Seleccionar un trabajo:
          \begin{itemize}[label=--]
              \item Descripción: Actualizar la información del resumen al seleccionar un trabajo para un área específica. Además, actualizar las opciones del selector de colores según el trabajo seleccionado.
          \end{itemize}
    \item \textbf{Tarea 13:} Seleccionar número de colores:
          \begin{itemize}[label=--]
              \item Descripción: Al escoger el número de colores en el desplegable, proporcionar campos de texto para que el usuario especifique los colores. Actualizar la cantidad de clichés y multiplicar su precio en el resumen.
          \end{itemize}
    \item \textbf{Tarea 14:} Adjuntar imagen por área:
          \begin{itemize}[label=--]
              \item Descripción: Permitir al usuario adjuntar una imagen para cada área de impresión. Crear un método API propio en la aplicación para gestionar la subida de imágenes al servidor. Generar un ID aleatorio asociado al producto de impresión y guardar la imagen junto con los demás datos configurados.
          \end{itemize}
    \item \textbf{Tarea 15:} Diseño responsive:
          \begin{itemize}[label=--]
              \item Descripción: Asegurar que el diseño del modal y la forma de mostrar los elementos sea óptima y clara en la vista móvil.
          \end{itemize}
    \item \textbf{Tarea 16:} Precios diferenciados para trabajos según colores:
          \begin{itemize}[label=--]
              \item Descripción: Implementar precios diferenciados para los trabajos en función del color principal y el resto de colores seleccionados por el usuario. Utilizar variantes para gestionar los precios según sea necesario.
          \end{itemize}
\end{itemize}

\textbf{Tareas relacionadas con la \hyperref[sec:historia4]{Historia de usuario 4}:}
\begin{enumerate}
    \item \textbf{Tarea 1:} Investigar el Uso de Customized Bundles para Agrupar y Vincular Productos:
          \begin{itemize}
              \item Descripción: Investigar si los customized bundles son una solución adecuada para agrupar y vincular los productos relacionados en el carrito de manera que no se puedan borrar o editar por separado.
              \item Considerar visualmente cómo se mostrarían en el carrito, el checkout y en el historial de pedidos.
              \item Si no se considera viable el uso de customized bundles, explorar la posibilidad de utilizar un Theme App Extension de JavaScript para agregar esta funcionalidad al carrito, especialmente enfocado en impedir cambios individuales en los productos relacionados.
          \end{itemize}
    \item \textbf{Tarea 2:} Guardar Información de Impresión en el Carrito:
          \begin{itemize}
              \item Descripción: Desarrollar la funcionalidad para guardar toda la información de impresión configurada (medidas, colores, imagen adjunta y observaciones de cada área) en el carrito al añadir productos relacionados.
              \item Utilizar las properties de los LineItems para almacenar esta información de manera adecuada.
          \end{itemize}
    \item \textbf{Tarea 3:} Añadir Productos Relacionados al Carrito:
          \begin{itemize}
              \item Descripción: Implementar la lógica para añadir al carrito los productos relacionados, incluyendo el producto "normal", los trabajos seleccionados y los clichés asociados, teniendo en cuenta la cantidad y las variantes adecuadas según las selecciones del usuario.
              \item Utilizar el ajax API para añadir los productos al carrito.
          \end{itemize}
    \item \textbf{Tarea 4:} Actualizar la Forma de Añadir al Carrito según Conclusiones sobre Customized Bundles (Tarea Pendiente):
          \begin{itemize}
              \item Descripción: Dependiendo de las conclusiones de la investigación sobre customized bundles, ajustar la forma de añadir productos al carrito según sea necesario.
          \end{itemize}
\end{enumerate}

\textbf{Tareas relacionadas con la \hyperref[sec:historia5]{Historia de usuario 5}:}
\begin{itemize}
    \item \textbf{Tarea 1:} Modificar el Theme para Mostrar el Detalle de los Bundles de Impresión en el Carrito:
          \begin{itemize}[label=--]
              \item Descripción: Desarrollar una sección en el Theme que sea una versión de la sección \texttt{main-cart-items.liquid} (sección en la que se muestran los productos del carrito) en la que se muestre el detalle de los bundles de impresión de manera similar a la visualización en el proceso de checkout.
          \end{itemize}
\end{itemize}

\textbf{Tareas relacionadas con la \hyperref[sec:historia6]{Historia de usuario 6}:}
\begin{itemize}
    \item \textbf{Tarea 1:} Investigar el Uso de \texttt{cart-transform} para Personalizar Precios de Líneas:
          \begin{itemize}[label=--]
              \item Descripción: Realizar una investigación exhaustiva sobre el uso de \texttt{cart-transform} para determinar cómo personalizar los precios de las líneas de productos de forma dinámica.
          \end{itemize}
\end{itemize}

\textbf{Tareas relacionadas con la \hyperref[sec:historia7]{Historia de usuario 7}:}
\begin{itemize}
    \item \textbf{Tarea 1:} Investigar Opciones para Mostrar el Logo del Cliente en la Zona Adecuada del Producto e implementarlo:
          \begin{itemize}[label=--]
              \item Descripción: Realizar una investigación exhaustiva para identificar opciones, librerías u herramientas que nos permitan mostrar una imagen del logo del cliente en la zona adecuada del producto de forma atractiva.
              \item Evaluar la viabilidad de cada opción en función de la información disponible sobre el producto de impresión y las necesidades específicas del cliente.
              \item Implementar la solución elegida.
          \end{itemize}
\end{itemize}

\textbf{Tareas relacionadas con la \hyperref[sec:historia8]{Historia de usuario 8}:}
\begin{itemize}
    \item \textbf{Tarea 1:} Limpiar la Interfaz del Administrador de la App:
          \begin{itemize}[label=--]
              \item Descripción: Eliminar las opciones demo y botones relacionados en la parte frontal de la interfaz de administración de la app para eliminar funcionalidad innecesaria.
          \end{itemize}
    \item \textbf{Tarea 2:} Agregar un Botón "Crear Campos Necesarios" en la Interfaz de Administración:
          \begin{itemize}[label=--]
              \item Descripción: Incorporar un botón en la interfaz de administración de la app que llame a un método de la app para crear los metafields necesarios.
          \end{itemize}
    \item \textbf{Tarea 3:} Desarrollar el Método para Crear los Metafields Necesarios:
          \begin{itemize}[label=--]
              \item Descripción: Crear un método en la app que utilice llamadas al API de GraphQL para crear los metafields y los metaobject necesarios, controlando si ya existen.
          \end{itemize}
    \item \textbf{Tarea 4:} Implementar la Funcionalidad de Feedback para el Usuario:
          \begin{itemize}[label=--]
              \item Descripción: Desarrollar una funcionalidad para mostrar un mensaje de feedback al usuario después de la ejecución del método de creación de metafields, informando sobre el éxito o posibles errores.
          \end{itemize}
    \item \textbf{Tarea 5:} Hacer Configurable la Creación de Metafields:
          \begin{itemize}[label=--]
              \item Descripción: Crear un fichero de configuración o constantes que defina qué metafields se crearán, para qué entidad y de qué tipo. Adaptar el código para usar esta configuración, permitiendo así una fácil expansión y reutilización de la funcionalidad en otras aplicaciones.
          \end{itemize}
    \item \textbf{Tarea 6:} Crear el objeto \texttt{cartTransform} Automáticamente:
          \begin{itemize}[label=--]
              \item Descripción: Implementar la funcionalidad para crear automáticamente el objeto \texttt{cartTransform} si es necesario. Esto simplificaría aún más el proceso de configuración para el administrador de la tienda, permitiendo una mayor automatización y reduciendo la carga de trabajo manual.
          \end{itemize}
\end{itemize}

\textbf{Tareas relacionadas con la \hyperref[sec:historia9]{Historia de usuario 9}:}
\begin{itemize}
    \item \textbf{Tarea 1:} Crear Metafields para "Doble Pasada" en Productos:
          \begin{itemize}[label=--]
              \item Descripción: Utilizar la funcionalidad de creación automática de metafields para crear un metafield booleano llamado "DOBLE PASADA" para los productos.
          \end{itemize}
    \item \textbf{Tarea 2:} Mostrar el Check para "Doble Pasada":
          \begin{itemize}[label=--]
              \item Descripción: Implementar la lógica para mostrar un check junto al trabajo seleccionado en el presupuestador si tanto el producto como el trabajo tienen la opción de "doble pasada" activada. Asegurarse de que el check se oculte automáticamente si se cambia el trabajo seleccionado a uno que no tenga la opción de "doble pasada".
          \end{itemize}
\end{itemize}

\textbf{Tareas relacionadas con la \hyperref[sec:historia10]{Historia de usuario 10}:}
\begin{itemize}
    \item \textbf{Tarea 1:} Crear Metafield para el Importe del Canon Digital:
          \begin{itemize}[label=--]
              \item Descripción: Crear un metafield de tipo número decimal, llamado "Importe Canon", utilizando la funcionalidad de creación automática de metafields. Este metafield se usará para indicar si un producto tiene canon digital y especificar el importe correspondiente.
          \end{itemize}
    \item \textbf{Tarea 2:} Crear Producto Especial para Añadir el Importe al Carrito:
          \begin{itemize}[label=--]
              \item Descripción: Crear un producto especial con un precio de un céntimo, que se utilizará únicamente para añadir el importe del canon digital al carrito de compra. Este producto especial asegurará que el importe del canon se aplique correctamente al total del carrito de compra.
          \end{itemize}
\end{itemize}

\textbf{Tareas relacionadas con la \hyperref[sec:historia11]{Historia de usuario 11}:}
\begin{itemize}
    \item \textbf{Tarea 1386:} Añadir Líneas de Canon al Carrito y Asociarlas a sus Productos Correspondientes con Bundles:
          \begin{itemize}[label=--]
              \item Descripción: Desarrollar la lógica para añadir automáticamente líneas de canon digital al carrito cuando se añada un producto con canon. Utilizar bundles para asociar cada línea de producto con su línea de canon correspondiente.
              \item Iniciar con la implementación para productos "normales" y luego extender la funcionalidad para productos de impresión.
              \item Controlar la adición de líneas de canon desde la ficha de producto inicialmente, y luego expandir la funcionalidad para otros puntos de entrada al carrito.
              \item Considerar la utilización del cartTransform existente para integrar esta nueva lógica de bundles, y evaluar la posibilidad de separarlo en una aplicación independiente en el futuro.
          \end{itemize}
\end{itemize}

\subsubsection{Diseño de back-end}
Describir el API REST
\subsubsection{Diseño de front-end}
Mock-ups
Diagrama de navegación

\subsection{Implementación}

\subsubsection{Implementación de front-end}
\subsubsection{Implementación de back-end}

\subsection{Pruebas}
\subsection{Despliegue}


\section{Conclusiones y vías futuras}
Puede estar subdividido en dos apartados: (1) conclusiones, (2) trabajo futuro. El trabajo futuro se refiere a carencias actuales del trabajo que están sujetas a mejoras en el futuro, posibles extensiones para dotar de mayor funcionalidad, etc.

\section{Bibliografía}
% Redefine el comando \refname para que no imprima ningún título
\renewcommand{\refname}{}
\begin{thebibliography}{100} % Elige 9 si tienes menos de 10 referencias
    
    \bibitem{shopify} 
    Shopify. 
    \textit{Shopify}, dirección: \url{https://www.shopify.com/es/blog/tutorial-shopify} (visitado 29-03-2024).

    \bibitem{shopify-dev} 
    Shopify Developers. 
    \textit{Shopify.dev}, dirección: \url{https://shopify.dev/} (visitado 29-03-2024).

    \bibitem{react-pag-1} 
    React
    \textit{React}, dirección: \url{https://ebac.mx/blog/que-es-react} (visitado 29-03-2024).

    \bibitem{react-pag-2} 
    Funcionamiento React
    \textit{Funcionamiento React}, dirección: \url{https://kinsta.com/es/base-de-conocimiento/que-es-react-js/#qu-es-react} (visitado 29-03-2024).

    \bibitem{node} 
    Node y Express
    \textit{Node y express}, dirección: \url{https://developer.mozilla.org/es/docs/Learn/Server-side/Express_Nodejs/Introduction} (visitado 31-03-2024).

    \bibitem{devOps} 
    Azure DevOps
    \textit{Azure DevOps}, dirección: \url{https://aodatacloud.es/blog/que-es-azure-devops-y-para-que-sirve/#%C2%BFQue_es_Azure_DevOps} (visitado 31-03-2024).

\end{thebibliography}

\section{Anexos}

\subsection{Manual de usuario}
En este apartado se mostrará y explicará de una forma visual la forma de uso de la aplicación desarrollada. Se mostrará tanto el proceso para integrar la aplicación con una tienda, como
su funcionamiento dentro de la misma.

En primer lugar, una vez instalada la aplicación en la tienda, debemos dirigirnos al panel de administración. En la Figura~\ref{fig:PersonalizarTema} podemos observar este panel de administración, donde
debemos ir al apartado \textit{Canales de venta} $\rightarrow$  \textit{Tienda online} $\rightarrow$  \textit{Tema}. En esta pantalla podemos ver y configurar toda la libería de temas que tenemos disponible.
En nustro caso tenemos publicado el tema \textit{upango-impresion-theme}, por lo que vamos a pulsar en el botón personalizar de este tema para que se nos muestre el configurador de tema y poder
añadir al tema las funcionalidades de nuestra aplicación.

\begin{figure}[ht]
    \floatplacement{figure}{!t}
    \centering
    \includegraphics[width=0.8\textwidth]{imagenes/ManualUsuario/PantallaDePersonalizarTema.png}
    \caption{\label{fig:PersonalizarTema}Personalizar tema en el panel de administración}
    \vspace{\fill}
\end{figure}

Al instalar la app, se nos habilitan en el configurador todos aquellos componentes de tema que se han desarrollado en la aplicación.
En la Figura~\ref{fig:ThemeAppExtension} podemos observar la pantalla del configurador del tema, en ella debemos ir a la plantilla de la página de producto y añadir
en el lugar que consideremos más apropiado el bloque que hemos desarrollado en la extensión de tema de la aplicación. Como puede verse, al instroducir este elemento, se nos muestra en la pantalla de producto
el botón para abrir el personalizador de artículos que lleva detrás toda la funcionalidad.

\begin{figure}[ht]
    \floatplacement{figure}{!t}
    \centering
    \includegraphics[width=0.8\textwidth]{imagenes/ManualUsuario/AñadirBloqueThemeExtension.png}
    \caption{\label{fig:ThemeAppExtension}Añadir la extensión de tema de la App en el tema de la tienda}
    \vspace{\fill}
\end{figure}

Una vez añadida la extensión del tema, debemos dirigirnos a la pantalla del panel de administración que hemos desarrollado en la aplicación. En la Figura~\ref{fig:PanelAdministracion} podemos
ver un enlace a esta pantalla en la sección \textit{Aplicaciones} $\rightarrow$  \textit{upango\_pedidos\_impresion}. En la Figura~\ref{fig:FuncionalidadAdministracion} observamos dicha pantalla, en ella podemos pulsar el botón \textit{Crear Metadatos} para que se creen 
automáticamente los metacampos de producto necesarios, y el botón \textit{cart-transform} para que se cree automáticamente en la tienda el objeto cart-transform, el cual hara uso de una función de la aplicación, que 
dotará al carrito y al checkout de la tienda de una funcionalidad y apariencia de paquetes customizados.

\begin{figure}[ht]
    \floatplacement{figure}{!t}
    \centering
    \includegraphics[width=0.8\textwidth]{imagenes/ManualUsuario/PaginaAdministracion.png}
    \caption{\label{fig:PanelAdministracion}Panel de administración de la tienda}
    \vspace{\fill}
\end{figure}

\begin{figure}[ht]
    \floatplacement{figure}{!t}
    \centering
    \includegraphics[width=0.8\textwidth]{imagenes/ManualUsuario/FuncionalidadPaginaAdministracion.png}
    \caption{\label{fig:FuncionalidadAdministracion}Funcionalidades de la parte de administración de la App}
    \vspace{\fill}
\end{figure}

Una vez realizadas estas configuraciones y creados en la tienda todos los productos necesarios, trabajos de impresión, tipos de cliche, asociados los productos con sus areas de impresión, y todos los elementos necesarios relacionados con
la impresión de artículos, ya podemos hacer uso de la tienda con las funcionalidades de personalización de productos integrada.

En la Figura~\ref{fig:HomeTiendaDemo} podemos observar la página principal de la tienda, en ella podemos navegar hacia otros apartados de la tienda, como el catálogo de productos, podemos buscar secciones y productos con el buscador, ir al carrito, seleccionar el idioma y otras funcionalidades.También
podemos seleccionar cualquier producto de los que nos aparece en destacados para ir a la página de producto y poder añadirlo al carrito o personalizarlo si se trata de un producto
personalizable.

\begin{figure}[ht]
    \floatplacement{figure}{!t}
    \centering
    \includegraphics[width=0.8\textwidth]{imagenes/ManualUsuario/HomeTiendaDemo.png}
    \caption{\label{fig:HomeTiendaDemo}Página principal de la tienda de demostración}
    \vspace{\fill}
\end{figure}

En la imagen~\ref{fig:ProductoNoPersonalizable} podemos ver como hemos navegado hacia una página de producto. En esta, como puede verse, no aparece el botón para personalizar este
artículo, lo que significa que el producto no es personalizable y en este caso solo podríamos seleccionar la cantidad deseada y añadir al carrito o comprar directamente.
En la siguiente imagen (Figura~\ref{fig:ProductoPersonalizable}) podemos ver otra página de producto, y en este caso si nos aparece el botón de Personalizar, lo que nos indica que este producto
si sería personalizable y cuenta con sus áreas de impresión correspondientes y todos sus atributos de personalización. En esta pantalla podemos comprar este producto y tratarlo como en el caso anterior,
y comprarlo sin personalización, o podemos seleccionar la cantidad que deseemos y pulsar el botón de personalizar para configurar y añadir al carrito los productos a través de la interfaz de personalización.

\begin{figure}[ht]
    \floatplacement{figure}{!t}
    \centering
    \includegraphics[width=0.8\textwidth]{imagenes/ManualUsuario/PaginaProductoSinPersonalizacion.png}
    \caption{\label{fig:ProductoNoPersonalizable}Página de producto no personalizable}
    \vspace{\fill}
\end{figure}

\begin{figure}[ht]
    \floatplacement{figure}{!t}
    \centering
    \includegraphics[width=0.8\textwidth]{imagenes/ManualUsuario/PaginaProductoConPersonalizacion.png}
    \caption{\label{fig:ProductoPersonalizable}Página de producto personalizable}
    \vspace{\fill}
\end{figure}

Si pulsamos en el botón de Personalizar, se nos abrirá este personalizador de artículos. En este, como puede en la Figura~\ref{fig:Personalizador}, nos encontramos 
las distintas areas de impresión con las que cuenta el producto con sus atributos personalizables y a la derecha podemos ir viendo el resumen del pedido presonalizado actualizado.

\begin{figure}[ht]
    \floatplacement{figure}{!t}
    \centering
    \includegraphics[width=0.8\textwidth]{imagenes/ManualUsuario/PersonalizadorArtículosCamiseta.png}
    \caption{\label{fig:Personalizador}Pantalla del personalizador del producto seleccionado}
    \vspace{\fill}
\end{figure}

\begin{figure}[ht]
    \floatplacement{figure}{!t}
    \centering
    \includegraphics[width=0.8\textwidth]{imagenes/ManualUsuario/PersonalizadorArea1Seleccionada.png}
    \caption{\label{fig:PersonalizadorAreaMarcada}Personalizador con el Area 1 seleccionada}
    \vspace{\fill}
\end{figure}

\begin{figure}[ht]
    \floatplacement{figure}{!t}
    \centering
    \includegraphics[width=0.8\textwidth]{imagenes/ManualUsuario/PersonalizadorVariasAreasDeImpresiónSeleccionadas.png}
    \caption{\label{fig:PersonalizadorVariasAreas}Personalizador con varias áreas seleccionadas}
    \vspace{\fill}
\end{figure}

\begin{figure}[ht]
    \floatplacement{figure}{!t}
    \centering
    \includegraphics[width=0.8\textwidth]{imagenes/ManualUsuario/PersonalizadorArea1ColoresSeleccionados.png}
    \caption{\label{fig:PersonalizadorColores}Personalizador con trabajo de impresión y colores seleccionados}
    \vspace{\fill}
\end{figure}

\begin{figure}[ht]
    \floatplacement{figure}{!t}
    \centering
    \includegraphics[width=0.8\textwidth]{imagenes/ManualUsuario/PersonalizadorRepeticiónClicheDoblePasada.png}
    \caption{\label{fig:PersonalizadorCheckboxes}Personalizador con opciones de repetición de cliche y doble pasada}
    \vspace{\fill}
\end{figure}

\begin{figure}[ht]
    \floatplacement{figure}{!t}
    \centering
    \includegraphics[width=0.8\textwidth]{imagenes/ManualUsuario/PersonalizadorLogoSeleccionado.png}
    \caption{\label{fig:PersonalizadorLogo}Personalizador con selección de logo}
    \vspace{\fill}
\end{figure}

\begin{figure}[ht]
    \floatplacement{figure}{!t}
    \centering
    \includegraphics[width=0.8\textwidth]{imagenes/ManualUsuario/BotonCarrito.png}
    \caption{\label{fig:BotonCarrito}Botón de carrito}
    \vspace{\fill}
\end{figure}

\begin{figure}[ht]
    \floatplacement{figure}{!t}
    \centering
    \includegraphics[width=0.8\textwidth]{imagenes/ManualUsuario/PantallaCarrito.png}
    \caption{\label{fig:Carrito}Pantalla del carrito de la tienda}
    \vspace{\fill}
\end{figure}

\begin{figure}[ht]
    \floatplacement{figure}{!t}
    \centering
    \includegraphics[width=0.8\textwidth]{imagenes/ManualUsuario/ImagenCheckout.png}
    \caption{\label{fig:Checkout}Pantalla de checkout de la tienda}
    \vspace{\fill}
\end{figure}


\end{document}

